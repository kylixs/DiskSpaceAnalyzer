# æ¨¡å—æµ‹è¯•æ±‡æ€»åŠŸèƒ½ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

BaseTestCaseç°åœ¨æ”¯æŒè‡ªåŠ¨æ±‡æ€»æ•´ä¸ªæ¨¡å—çš„æµ‹è¯•ç»“æœï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ã€‚å½“æ‰€æœ‰é¢„æœŸçš„æµ‹è¯•ç±»éƒ½å®Œæˆåï¼Œä¼šè‡ªåŠ¨è¾“å‡ºæ¨¡å—çº§åˆ«çš„æ±‡æ€»æŠ¥å‘Šã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. è‡ªåŠ¨æ£€æµ‹æ¨¡å—å®Œæˆ
- è‡ªåŠ¨è·Ÿè¸ªæ¯ä¸ªæµ‹è¯•ç±»çš„å®ŒæˆçŠ¶æ€
- å½“æ‰€æœ‰é¢„æœŸæµ‹è¯•ç±»å®Œæˆåï¼Œè‡ªåŠ¨è¾“å‡ºæ¨¡å—æ±‡æ€»
- æ— éœ€æ‰‹åŠ¨è°ƒç”¨æ±‡æ€»æ–¹æ³•

### 2. åˆ†å±‚è¾“å‡º
- **æµ‹è¯•ç±»çº§åˆ«**ï¼šæ¯ä¸ªæµ‹è¯•ç±»å®Œæˆåè¾“å‡ºå•ç‹¬æ€»ç»“
- **æ¨¡å—çº§åˆ«**ï¼šæ‰€æœ‰æµ‹è¯•ç±»å®Œæˆåè¾“å‡ºæ•´ä½“æ±‡æ€»

### 3. æ™ºèƒ½ç»Ÿè®¡
- ç»Ÿè®¡æ¯ä¸ªæµ‹è¯•ç±»çš„æˆåŠŸ/å¤±è´¥æ•°é‡
- è®¡ç®—æ¨¡å—æ•´ä½“æˆåŠŸç‡
- åªæ˜¾ç¤ºå¤±è´¥çš„æµ‹è¯•è¯¦æƒ…

## ä½¿ç”¨æ–¹æ³•

### 1. åˆ›å»ºæ¨¡å—åˆå§‹åŒ–æ–‡ä»¶

ä¸ºæ¯ä¸ªæµ‹è¯•æ¨¡å—åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–æ–‡ä»¶ï¼Œä¾‹å¦‚ `CommonTestsModule.swift`ï¼š

```swift
import XCTest
@testable import Common

final class CommonTestsModule: BaseTestCase {
    
    func testAAA_ModuleInitialization() throws {
        // è®¾ç½®æ¨¡å—ä¿¡æ¯
        BaseTestCase.setModuleInfo(
            name: "Commonæ¨¡å—",
            testClasses: [
                "CommonTestsModule",      // åŒ…å«è‡ªå·±
                "SharedConstantsTests",
                "SharedEnumsTests", 
                "SharedStructsTests",
                "SharedUtilitiesTests"
            ]
        )
        
        print("ğŸš€ Commonæ¨¡å—æµ‹è¯•å¼€å§‹...")
        XCTAssertTrue(true, "æ¨¡å—åˆå§‹åŒ–å®Œæˆ")
    }
}
```

### 2. å…³é”®è¦ç‚¹

#### æµ‹è¯•ç±»åç§°å¿…é¡»å‡†ç¡®
```swift
// âŒ é”™è¯¯ï¼šåç§°ä¸åŒ¹é…
testClasses: ["SharedConstants"]  // å®é™…ç±»åæ˜¯ SharedConstantsTests

// âœ… æ­£ç¡®ï¼šåç§°å®Œå…¨åŒ¹é…
testClasses: ["SharedConstantsTests"]
```

#### åŒ…å«åˆå§‹åŒ–ç±»è‡ªå·±
```swift
testClasses: [
    "CommonTestsModule",  // å¿…é¡»åŒ…å«è‡ªå·±
    "SharedConstantsTests",
    // ... å…¶ä»–æµ‹è¯•ç±»
]
```

#### ä½¿ç”¨AAAå‰ç¼€ç¡®ä¿é¦–å…ˆè¿è¡Œ
```swift
// ä½¿ç”¨ testAAA_ å‰ç¼€ç¡®ä¿åˆå§‹åŒ–æµ‹è¯•é¦–å…ˆè¿è¡Œ
func testAAA_ModuleInitialization() throws {
    // åˆå§‹åŒ–ä»£ç 
}
```

## è¾“å‡ºç¤ºä¾‹

### æˆåŠŸæƒ…å†µ
```
ğŸš€ Commonæ¨¡å—æµ‹è¯•å¼€å§‹...

ğŸ“Š SharedConstantsTests æµ‹è¯•æ€»ç»“
============================================================
ğŸ“ˆ æ€»æµ‹è¯•æ•°: 13
âœ… æˆåŠŸ: 13
âŒ å¤±è´¥: 0
ğŸ“Š æˆåŠŸç‡: 100.0%
============================================================
ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡!

ğŸ† Commonæ¨¡å— æ•´ä½“æµ‹è¯•æ±‡æ€»
============================================================
âœ… CommonTestsModule: 1/1 (100.0%)
âœ… SharedConstantsTests: 13/13 (100.0%)
âœ… SharedEnumsTests: 29/29 (100.0%)
âœ… SharedStructsTests: 32/32 (100.0%)
âœ… SharedUtilitiesTests: 19/19 (100.0%)

ğŸ“Š æ€»è®¡:
ğŸ“ˆ æ€»æµ‹è¯•æ•°: 94
âœ… æˆåŠŸ: 94
âŒ å¤±è´¥: 0
ğŸ“Š æ•´ä½“æˆåŠŸç‡: 100.0%
============================================================
ğŸ‰ Commonæ¨¡å— æ‰€æœ‰æµ‹è¯•é€šè¿‡!
```

### å¤±è´¥æƒ…å†µ
```
ğŸ† DataModelæ¨¡å— æ•´ä½“æµ‹è¯•æ±‡æ€»
============================================================
âœ… DataModelTestsModule: 1/1 (100.0%)
âŒ FileNodeTests: 8/10 (80.0%)

ğŸ“Š æ€»è®¡:
ğŸ“ˆ æ€»æµ‹è¯•æ•°: 11
âœ… æˆåŠŸ: 9
âŒ å¤±è´¥: 2
ğŸ“Š æ•´ä½“æˆåŠŸç‡: 81.8%

ğŸ” å¤±è´¥è¯¦æƒ…:
  âŒ FileNodeTests: 2/10 ä¸ªæµ‹è¯•å¤±è´¥
     â€¢ testFileNodeValidation: æµ‹è¯•å¤±è´¥
     â€¢ testFileNodeSerialization: æµ‹è¯•å¤±è´¥
============================================================
âš ï¸  DataModelæ¨¡å— å­˜åœ¨ 2 ä¸ªæµ‹è¯•å¤±è´¥
```

## å„æ¨¡å—çš„åˆå§‹åŒ–æ–‡ä»¶

### CommonTests
```swift
// tests/CommonTests/CommonTestsModule.swift
BaseTestCase.setModuleInfo(
    name: "Commonæ¨¡å—",
    testClasses: [
        "CommonTestsModule",
        "SharedConstantsTests",
        "SharedEnumsTests", 
        "SharedStructsTests",
        "SharedUtilitiesTests"
    ]
)
```

### DataModelTests
```swift
// tests/DataModelTests/DataModelTestsModule.swift
BaseTestCase.setModuleInfo(
    name: "DataModelæ¨¡å—",
    testClasses: [
        "DataModelTestsModule",
        "FileNodeTests",
        "DirectoryTreeTests",
        "DataPersistenceTests"
    ]
)
```

### ScanEngineTests
```swift
// tests/ScanEngineTests/ScanEngineTestsModule.swift
BaseTestCase.setModuleInfo(
    name: "ScanEngineæ¨¡å—",
    testClasses: [
        "ScanEngineTestsModule",
        "FileScannerTests",
        "ScanSessionTests"
    ]
)
```

## æ³¨æ„äº‹é¡¹

### 1. æµ‹è¯•ç±»åç§°åŒæ­¥
- å½“æ·»åŠ æ–°çš„æµ‹è¯•ç±»æ—¶ï¼Œè®°å¾—æ›´æ–°åˆå§‹åŒ–æ–‡ä»¶ä¸­çš„ `testClasses` åˆ—è¡¨
- å½“é‡å‘½åæµ‹è¯•ç±»æ—¶ï¼ŒåŒæ­¥æ›´æ–°åˆ—è¡¨

### 2. æ‰§è¡Œé¡ºåº
- åˆå§‹åŒ–æµ‹è¯•ä½¿ç”¨ `testAAA_` å‰ç¼€ç¡®ä¿é¦–å…ˆæ‰§è¡Œ
- å…¶ä»–æµ‹è¯•çš„æ‰§è¡Œé¡ºåºä¸å½±å“æ±‡æ€»åŠŸèƒ½

### 3. æ¨¡å—éš”ç¦»
- æ¯ä¸ªæ¨¡å—çš„ç»Ÿè®¡æ˜¯ç‹¬ç«‹çš„
- ä¸åŒæ¨¡å—ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“

### 4. æ€§èƒ½è€ƒè™‘
- æ±‡æ€»åŠŸèƒ½å¯¹æµ‹è¯•æ€§èƒ½å½±å“å¾ˆå°
- åªåœ¨æµ‹è¯•ç±»å®Œæˆæ—¶è¿›è¡Œæ£€æŸ¥å’Œç»Ÿè®¡

## æ•…éšœæ’é™¤

### æ±‡æ€»æ²¡æœ‰æ˜¾ç¤º
1. æ£€æŸ¥æµ‹è¯•ç±»åç§°æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤æ‰€æœ‰æµ‹è¯•ç±»éƒ½å·²å®Œæˆ
3. éªŒè¯åˆå§‹åŒ–æµ‹è¯•æ˜¯å¦æ­£ç¡®æ‰§è¡Œ

### ç»Ÿè®¡æ•°æ®ä¸å‡†ç¡®
1. ç¡®ä¿æ‰€æœ‰æµ‹è¯•ç±»éƒ½ç»§æ‰¿è‡ª `BaseTestCase`
2. æ£€æŸ¥æ˜¯å¦æœ‰æµ‹è¯•ç±»æ²¡æœ‰åŒ…å«åœ¨ `testClasses` åˆ—è¡¨ä¸­

### é‡å¤æ±‡æ€»
1. ç¡®ä¿æ¯ä¸ªæ¨¡å—åªæœ‰ä¸€ä¸ªåˆå§‹åŒ–æ–‡ä»¶
2. æ£€æŸ¥æ˜¯å¦æœ‰å¤šä¸ªåœ°æ–¹è°ƒç”¨äº† `setModuleInfo`

è¿™ç§è‡ªåŠ¨æ±‡æ€»åŠŸèƒ½å¤§å¤§æé«˜äº†æµ‹è¯•ä½“éªŒï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ¸…æ™°åœ°äº†è§£æ•´ä¸ªæ¨¡å—çš„æµ‹è¯•çŠ¶å†µï¼
